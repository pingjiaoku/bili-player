(function(z,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(z=typeof globalThis<"u"?globalThis:z||self,e(z["bili-player"]={},z.Vue))})(this,function(z,e){"use strict";const ke={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},we=[e.createStaticVNode('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1)];function be(t,n){return e.openBlock(),e.createElementBlock("svg",ke,[...we])}const ye={name:"svg-loading",render:be};function D(t){return e.getCurrentScope()?(e.onScopeDispose(t),!0):!1}function $e(){const t=new Set,n=i=>{t.delete(i)};return{on:i=>{t.add(i);const l=()=>n(i);return D(l),{off:l}},off:n,trigger:(...i)=>Promise.all(Array.from(t).map(l=>l(...i)))}}function V(t){return typeof t=="function"?t():e.unref(t)}const oe=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ve=t=>typeof t<"u",Ee=t=>t!=null,Ce=Object.prototype.toString,le=t=>Ce.call(t)==="[object Object]",Ve=()=>{};function xe(t,n){function o(...d){return new Promise((i,l)=>{Promise.resolve(t(()=>n.apply(this,d),{fn:n,thisArg:this,args:d})).then(i).catch(l)})}return o}const Be=t=>t();function Ne(t){return t||e.getCurrentInstance()}function Se(t,n=!0,o){Ne()?e.onMounted(t,o):n?t():e.nextTick(t)}function se(t,n,o={}){const{eventFilter:d=Be,...i}=o,l=xe(d,n);let _,m,u;if(i.flush==="sync"){const f=e.ref(!1);m=()=>{},_=a=>{f.value=!0,a(),f.value=!1},u=e.watch(t,(...a)=>{f.value||l(...a)},i)}else{const f=[],a=e.ref(0),c=e.ref(0);m=()=>{a.value=c.value},f.push(e.watch(t,()=>{c.value++},{...i,flush:"sync"})),_=s=>{const r=c.value;s(),a.value+=c.value-r},f.push(e.watch(t,(...s)=>{const r=a.value>0&&a.value===c.value;a.value=0,c.value=0,!r&&l(...s)},i)),u=()=>{f.forEach(s=>s())}}return{stop:u,ignoreUpdates:_,ignorePrevAsyncUpdates:m}}function M(t){var n;const o=V(t);return(n=o==null?void 0:o.$el)!=null?n:o}const W=oe?window:void 0,ie=oe?window.document:void 0;function C(...t){let n,o,d,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([o,d,i]=t,n=W):[n,o,d,i]=t,!n)return Ve;Array.isArray(o)||(o=[o]),Array.isArray(d)||(d=[d]);const l=[],_=()=>{l.forEach(a=>a()),l.length=0},m=(a,c,s,r)=>(a.addEventListener(c,s,r),()=>a.removeEventListener(c,s,r)),u=e.watch(()=>[M(n),V(i)],([a,c])=>{if(_(),!a)return;const s=le(c)?{...c}:c;l.push(...o.flatMap(r=>d.map(h=>m(a,r,h,s))))},{immediate:!0,flush:"post"}),f=()=>{u(),_()};return D(f),f}function ze(){const t=e.ref(!1),n=e.getCurrentInstance();return n&&e.onMounted(()=>{t.value=!0},n),t}function j(t){const n=ze();return e.computed(()=>(n.value,!!t()))}function Me(t){return JSON.parse(JSON.stringify(t))}function Fe(t,n,o={}){const{window:d=W,...i}=o;let l;const _=j(()=>d&&"MutationObserver"in d),m=()=>{l&&(l.disconnect(),l=void 0)},u=e.computed(()=>{const s=V(t),r=(Array.isArray(s)?s:[s]).map(M).filter(Ee);return new Set(r)}),f=e.watch(()=>u.value,s=>{m(),_.value&&d&&s.size&&(l=new MutationObserver(n),s.forEach(r=>l.observe(r,i)))},{immediate:!0,flush:"post"}),a=()=>l==null?void 0:l.takeRecords(),c=()=>{m(),f()};return D(c),{isSupported:_,stop:c,takeRecords:a}}function Te(t,n,o={}){const{window:d=W,...i}=o;let l;const _=j(()=>d&&"ResizeObserver"in d),m=()=>{l&&(l.disconnect(),l=void 0)},u=e.computed(()=>Array.isArray(t)?t.map(c=>M(c)):[M(t)]),f=e.watch(u,c=>{if(m(),_.value&&d){l=new ResizeObserver(n);for(const s of c)s&&l.observe(s,i)}},{immediate:!0,flush:"post"}),a=()=>{m(),f()};return D(a),{isSupported:_,stop:a}}function X(t,n={}){const{reset:o=!0,windowResize:d=!0,windowScroll:i=!0,immediate:l=!0}=n,_=e.ref(0),m=e.ref(0),u=e.ref(0),f=e.ref(0),a=e.ref(0),c=e.ref(0),s=e.ref(0),r=e.ref(0);function h(){const g=M(t);if(!g){o&&(_.value=0,m.value=0,u.value=0,f.value=0,a.value=0,c.value=0,s.value=0,r.value=0);return}const b=g.getBoundingClientRect();_.value=b.height,m.value=b.bottom,u.value=b.left,f.value=b.right,a.value=b.top,c.value=b.width,s.value=b.x,r.value=b.y}return Te(t,h),e.watch(()=>M(t),g=>!g&&h()),Fe(t,h,{attributeFilter:["style","class"]}),i&&C("scroll",h,{capture:!0,passive:!0}),d&&C("resize",h,{passive:!0}),Se(()=>{l&&h()}),{height:_,bottom:m,left:u,right:f,top:a,width:c,x:s,y:r,update:h}}const ae=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function Ie(t,n={}){const{document:o=ie,autoExit:d=!1}=n,i=e.computed(()=>{var k;return(k=M(t))!=null?k:o==null?void 0:o.querySelector("html")}),l=e.ref(!1),_=e.computed(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(k=>o&&k in o||i.value&&k in i.value)),m=e.computed(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(k=>o&&k in o||i.value&&k in i.value)),u=e.computed(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(k=>o&&k in o||i.value&&k in i.value)),f=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(k=>o&&k in o),a=j(()=>i.value&&o&&_.value!==void 0&&m.value!==void 0&&u.value!==void 0),c=()=>f?(o==null?void 0:o[f])===i.value:!1,s=()=>{if(u.value){if(o&&o[u.value]!=null)return o[u.value];{const k=i.value;if((k==null?void 0:k[u.value])!=null)return!!k[u.value]}}return!1};async function r(){if(!(!a.value||!l.value)){if(m.value)if((o==null?void 0:o[m.value])!=null)await o[m.value]();else{const k=i.value;(k==null?void 0:k[m.value])!=null&&await k[m.value]()}l.value=!1}}async function h(){if(!a.value||l.value)return;s()&&await r();const k=i.value;_.value&&(k==null?void 0:k[_.value])!=null&&(await k[_.value](),l.value=!0)}async function g(){await(l.value?r():h())}const b=()=>{const k=s();(!k||k&&c())&&(l.value=k)};return C(o,ae,b,!1),C(()=>M(i),ae,b,!1),d&&D(r),{isSupported:a,isFullscreen:l,enter:h,exit:r,toggle:g}}function J(t,n){V(t)&&n(V(t))}function De(t){let n=[];for(let o=0;o<t.length;++o)n=[...n,[t.start(o),t.end(o)]];return n}function Y(t){return Array.from(t).map(({label:n,kind:o,language:d,mode:i,activeCues:l,cues:_,inBandMetadataTrackDispatchType:m},u)=>({id:u,label:n,kind:o,language:d,mode:i,activeCues:l,cues:_,inBandMetadataTrackDispatchType:m}))}const Re={src:"",tracks:[]};function Ae(t,n={}){n={...Re,...n};const{document:o=ie}=n,d=e.ref(0),i=e.ref(0),l=e.ref(!1),_=e.ref(1),m=e.ref(!1),u=e.ref(!1),f=e.ref(!1),a=e.ref(1),c=e.ref(!1),s=e.ref([]),r=e.ref([]),h=e.ref(-1),g=e.ref(!1),b=e.ref(!1),k=o&&"pictureInPictureEnabled"in o,y=$e(),$=w=>{J(t,v=>{if(w){const B=typeof w=="number"?w:w.id;v.textTracks[B].mode="disabled"}else for(let B=0;B<v.textTracks.length;++B)v.textTracks[B].mode="disabled";h.value=-1})},R=(w,v=!0)=>{J(t,B=>{const S=typeof w=="number"?w:w.id;v&&$(),B.textTracks[S].mode="showing",h.value=S})},T=()=>new Promise((w,v)=>{J(t,async B=>{k&&(g.value?o.exitPictureInPicture().then(w).catch(v):B.requestPictureInPicture().then(w).catch(v))})});e.watchEffect(()=>{if(!o)return;const w=V(t);if(!w)return;const v=V(n.src);let B=[];v&&(typeof v=="string"?B=[{src:v}]:Array.isArray(v)?B=v:le(v)&&(B=[v]),w.querySelectorAll("source").forEach(S=>{S.removeEventListener("error",y.trigger),S.remove()}),B.forEach(({src:S,type:ne})=>{const H=o.createElement("source");H.setAttribute("src",S),H.setAttribute("type",ne||""),H.addEventListener("error",y.trigger),w.appendChild(H)}),w.load())}),D(()=>{const w=V(t);w&&w.querySelectorAll("source").forEach(v=>v.removeEventListener("error",y.trigger))}),e.watch([t,_],()=>{const w=V(t);w&&(w.volume=_.value)}),e.watch([t,b],()=>{const w=V(t);w&&(w.muted=b.value)}),e.watch([t,a],()=>{const w=V(t);w&&(w.playbackRate=a.value)}),e.watchEffect(()=>{if(!o)return;const w=V(n.tracks),v=V(t);!w||!w.length||!v||(v.querySelectorAll("track").forEach(B=>B.remove()),w.forEach(({default:B,kind:S,label:ne,src:H,srcLang:Jo},Yo)=>{const A=o.createElement("track");A.default=B||!1,A.kind=S,A.label=ne,A.src=H,A.srclang=Jo,A.default&&(h.value=Yo),v.appendChild(A)}))});const{ignoreUpdates:I}=se(d,w=>{const v=V(t);v&&(v.currentTime=w)}),{ignoreUpdates:E}=se(f,w=>{const v=V(t);v&&(w?v.play():v.pause())});C(t,"timeupdate",()=>I(()=>d.value=V(t).currentTime)),C(t,"durationchange",()=>i.value=V(t).duration),C(t,"progress",()=>s.value=De(V(t).buffered)),C(t,"seeking",()=>l.value=!0),C(t,"seeked",()=>l.value=!1),C(t,["waiting","loadstart"],()=>{m.value=!0,E(()=>f.value=!1)}),C(t,"loadeddata",()=>m.value=!1),C(t,"playing",()=>{m.value=!1,u.value=!1,E(()=>f.value=!0)}),C(t,"ratechange",()=>a.value=V(t).playbackRate),C(t,"stalled",()=>c.value=!0),C(t,"ended",()=>u.value=!0),C(t,"pause",()=>E(()=>f.value=!1)),C(t,"play",()=>E(()=>f.value=!0)),C(t,"enterpictureinpicture",()=>g.value=!0),C(t,"leavepictureinpicture",()=>g.value=!1),C(t,"volumechange",()=>{const w=V(t);w&&(_.value=w.volume,b.value=w.muted)});const L=[],Xo=e.watch([t],()=>{const w=V(t);w&&(Xo(),L[0]=C(w.textTracks,"addtrack",()=>r.value=Y(w.textTracks)),L[1]=C(w.textTracks,"removetrack",()=>r.value=Y(w.textTracks)),L[2]=C(w.textTracks,"change",()=>r.value=Y(w.textTracks)))});return D(()=>L.forEach(w=>w())),{currentTime:d,duration:i,waiting:m,seeking:l,ended:u,stalled:c,buffered:s,playing:f,rate:a,volume:_,muted:b,tracks:r,selectedTrack:h,enableTrack:R,disableTrack:$,supportsPictureInPicture:k,togglePictureInPicture:T,isPictureInPicture:g,onSourceError:y.on}}function O(t,n,o,d={}){var i,l,_;const{clone:m=!1,passive:u=!1,eventName:f,deep:a=!1,defaultValue:c,shouldEmit:s}=d,r=e.getCurrentInstance(),h=o||(r==null?void 0:r.emit)||((i=r==null?void 0:r.$emit)==null?void 0:i.bind(r))||((_=(l=r==null?void 0:r.proxy)==null?void 0:l.$emit)==null?void 0:_.bind(r==null?void 0:r.proxy));let g=f;n||(n="modelValue"),g=g||`update:${n.toString()}`;const b=$=>m?typeof m=="function"?m($):Me($):$,k=()=>ve(t[n])?b(t[n]):c,y=$=>{s?s($)&&h(g,$):h(g,$)};if(u){const $=k(),R=e.ref($);let T=!1;return e.watch(()=>t[n],I=>{T||(T=!0,R.value=b(I),e.nextTick(()=>T=!1))}),e.watch(R,I=>{!T&&(I!==t[n]||a)&&y(I)},{deep:a}),R}else return e.computed({get(){return k()},set($){y($)}})}const U=t=>{if(!t)return"00:00";const o=Math.floor(t%60).toString().padStart(2,"0"),d=Math.floor(t/60);if(d===0)return`00:${o}`;const l=Math.floor(d%60).toString().padStart(2,"0"),_=Math.floor(d/60);return _===0?`${l}:${o}`:`${_}:${l}:${o}`},Le={},x=()=>({state:Le}),He=t=>{if(t<=0&&t%1!==0)throw new Error("倒计时的时间应该为一个正整数！");const n=e.ref(!1),o=e.ref(0),d=e.computed(()=>!!o.value);let i;const l=(m=t)=>{o.value||(n.value=!1,o.value=m,i=setInterval(()=>{o.value-=1,o.value<=0&&(clearInterval(i),n.value=!0)},1e3))},_=()=>{i=clearInterval(i),o.value=0};return e.onScopeDispose(_),{counts:o,isCounting:d,start:l,stop:_,isComplete:n}},p=e.reactive({show:!0,fontRatio:1,fontBold:!1,speed:1,opacity:1,displaySize:1,items:[],itemIndex:0,tunnels:[{},{},{}],visible:{move:!0,top:!0,bottom:!0,color:!0},sendCallback:()=>{},filter:()=>!0,frameId:0,defaultFontSize:24,types:["move","top","bottom"],whites:["#fff","#ffffff","#ffffffff","white"]}),Pe=(t,n)=>{p.container=t,p.show=n.show??p.show,p.fontRatio=n.fontRatio??p.fontRatio,p.fontBold=n.fontBold??p.fontBold,p.speed=n.speed??p.speed,p.opacity=n.opacity??p.opacity,p.displaySize=n.displaySize??p.displaySize,p.visible=n.visible??p.visible,p.filter=n.filter??p.filter,p.sendCallback=n.sendCallback??p.sendCallback,fe(""),re(),je()},K=()=>{p.tunnels=[{},{},{}],p.itemIndex=0,p.container&&(p.container.innerHTML="")},Ze=()=>{p.show=!1,K(),window.cancelAnimationFrame(p.frameId)},G=()=>{const{videoControls:t}=x().state;if(!t)return;const n=t.currentTime.value;K();for(let o=0;o<p.items.length;o++){if(p.items[o].time>=n){p.itemIndex=o;break}p.itemIndex=p.items.length}},Oe=()=>{G(),p.show=!0},Ue=async t=>{var n;await((n=p.sendCallback)==null?void 0:n.call(p,t)),p.items.splice(p.itemIndex,0,t),p.itemIndex++,t.content=me(t.content),t.border=!0,de([t])},qe=()=>{if(!p.container)return;const t=p.container.offsetWidth,n=p.container.getElementsByClassName("bili-danmaku-item");for(let o=0;o<n.length;o++)n[o].style.transform=`translateX(-${t}px)`},We=t=>{p.items=t,re(),G()},re=()=>{p.items.sort((t,n)=>t.time-n.time)},je=()=>{p.frameId=window.requestAnimationFrame(()=>{ce()})},ce=()=>{const{videoControls:t}=x().state;if(!t)return;const n=t.playing.value,o=t.currentTime.value;if(p.items.length&&n&&p.show){let d=p.items[p.itemIndex];const i=[];for(;d&&o>d.time;)i.push(d),d=p.items[++p.itemIndex];de(i)}p.frameId=window.requestAnimationFrame(()=>{ce()})},de=async t=>{if(!p.show||!p.container)return;const n=p.defaultFontSize*p.fontRatio,o=p.container.offsetWidth,i=p.container.offsetHeight*p.displaySize/n,l=f=>{const a=p.container.getBoundingClientRect().right,c=f.offsetWidth||+f.style.width,s=f.getBoundingClientRect().right||a+c;return a-s||-1},_=f=>(o+f)/5,m=(f,a,c)=>{const s=c?o/_(c):0;for(let r=0;r<i;r++){const h=p.tunnels[a][r.toString()];if(h&&h.length){if(a!==0)continue;for(let g=0;g<h.length;g++){const b=l(h[g])-10,k=s*_(+h[g].style.width);if(b<=o-k||b<=0)break;if(g===h.length-1)return h.push(f),f.addEventListener("animationend",()=>{h.splice(0,1)}),r%i}}else return p.tunnels[a][r.toString()]=[f],f.addEventListener("animationend",()=>{p.tunnels[a][r.toString()].splice(0,1)}),r%i}return-1},u=document.createDocumentFragment();for(let f=0;f<t.length;f++){let a=t[f],c=p.whites.includes(a.color.toLowerCase());if(!p.visible.move&&a.type===0||!p.visible.top&&a.type===1||!p.visible.bottom&&a.type===2||!p.visible.color&&!c||p.filter&&!await p.filter(a))continue;a.color||(a.color="#FFFFFF");const s=document.createElement("div");s.classList.add("bili-danmaku-item"),c||s.classList.add("bili-danmaku-color");const r=p.types[a.type];s.classList.add(`bili-danmaku-${r}`);const h=me(a.content);a.border?s.innerHTML=`<div style="border: 1px solid #66ffff; line-height: 1">${h}</div>`:s.innerHTML=`<div>${h}</div>`,s.style.fontSize=n+"px",p.fontBold&&(s.style.fontWeight="bold"),s.style.opacity=p.opacity.toString(),s.style.color=a.color,s.addEventListener("animationend",()=>{p.container.removeChild(s)});const g=fe(h);let b;switch(a.type){case 0:b=m(s,a.type,g),b>=0&&(s.style.width=`${g+1}px`,s.style.top=`${(n+2)*b}px`,s.style.transform=`translateX(-${o}px)`);break;case 1:b=m(s,a.type),b>=0&&(s.style.top=`${(n+2)*b}px`);break;case 2:b=m(s,a.type),b>=0&&(s.style.bottom=`${(n+2)*b}px`);break;default:b=-1,console.error(`Can't handled danmaku type: ${a.type}`)}b>=0&&(s.style.animationDuration=Xe(a.type),u.appendChild(s))}return p.container.appendChild(u),u},me=t=>t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;"),fe=t=>{if(!p.container)return-1;if(!p.canvasCtx){const o=getComputedStyle(p.container.getElementsByClassName("bili-danmaku-item")[0],null);p.canvasCtx=document.createElement("canvas").getContext("2d"),p.canvasCtx.font=o.getPropertyValue("font")}const n=p.defaultFontSize*p.fontRatio;return p.canvasCtx.font=`${n}px Arial`,p.canvasCtx.measureText(t).width},Xe=t=>{const{fullscreenControls:n}=x().state,o=n==null?void 0:n.isFullscreen.value;return[`${(o?8:5)/p.speed}s`,`${(o?4:3)/p.speed}s`,`${(o?4:3)/p.speed}s`][t]},F=()=>({state:p,init:Pe,show:Oe,hide:Ze,seek:G,send:Ue,clear:K,resize:qe,setDanmakus:We}),Je=t=>{if(!t)return;const n=F(),o=f=>{var k,y,$;const{state:a}=x(),{playing:c,volume:s,muted:r,currentTime:h}=a.videoControls,g=(k=document.activeElement)==null?void 0:k.tagName.toUpperCase();if(g&&["INPUT","TEXTAREA"].includes(g))return;const b=(y=document.activeElement)==null?void 0:y.getAttribute("contenteditable");if(!(b&&["","true"].includes(b)))switch(f.key){case" ":f.preventDefault(),c.value=!c.value;break;case"m":f.preventDefault(),r.value=!r.value;break;case"ArrowUp":f.preventDefault(),r.value&&(r.value=!1),s.value=s.value>=.9?1:s.value+.1;break;case"ArrowDown":f.preventDefault(),r.value&&(r.value=!1),s.value=s.value<=.1?0:s.value-.1;break;case"ArrowLeft":f.preventDefault(),h.value=h.value<=5?0:h.value-5,n.seek();break;case"ArrowRight":f.preventDefault(),m();break;case"f":f.preventDefault(),($=a.fullscreenControls)==null||$.toggle();break;case"d":f.preventDefault(),n.state.show?n.hide():n.show();break}};let d,i=!1,l=0,_;const m=()=>{const{state:f}=x(),{playing:a,rate:c}=f.videoControls;c.value!==3&&(l=new Date().getTime(),d=c.value),_||(_=setTimeout(()=>{i=!a.value,i&&(a.value=!0),c.value=3},500))},u=f=>{if(f.key!=="ArrowRight")return;const{state:a}=x(),{playing:c,currentTime:s,duration:r,rate:h}=a.videoControls;_&&clearTimeout(_),i&&(c.value=!1),h.value=d,new Date().getTime()-l<500&&(s.value>r.value-5?s.value=r.value:s.value=s.value+5,n.seek())};e.onMounted(()=>{window.addEventListener("keydown",o),window.addEventListener("keyup",u)}),e.onUnmounted(()=>{window.removeEventListener("keydown",o),window.removeEventListener("keyup",u)})},Ye=()=>F(),Ke=()=>{const{state:t}=x(),n=t.videoControls;if(!n)throw new Error("video not initialized completed");return n},Ge=()=>({getVideoControls:Ke,getDanmaControls:Ye}),Qe=t=>(e.pushScopeId("data-v-090c2c21"),t=t(),e.popScopeId(),t),et=["autoplay","loop","poster","src"],tt=["src"],nt={class:"bili-video-mask"},ot=Qe(()=>e.createElementVNode("div",null,"正在缓冲中...",-1)),lt=e.defineComponent({__name:"index",props:{url:{},poster:{},track:{},loop:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!0},volume:{default:.5},rate:{default:1}},setup(t){const n=t,o=e.ref(),{state:d}=x();d.videoControls=Ae(o);const{rate:i,volume:l,waiting:_,playing:m}=d.videoControls,u=e.ref(!1);let f;e.watch(_,r=>{r?f=setTimeout(()=>{u.value=!0},1e3):(f&&clearTimeout(f),u.value=!1)});let a;const c=()=>{a&&clearTimeout(a),a=setTimeout(()=>{m.value=!m.value},300)},s=()=>{var h;a&&clearTimeout(a);const{state:r}=x();(h=r.fullscreenControls)==null||h.toggle()};return e.onMounted(()=>{i.value=n.rate,l.value=n.volume}),(r,h)=>{const g=ye;return e.openBlock(),e.createElementBlock("div",{class:"bili-video-container",onClick:c,onDblclick:s},[e.createElementVNode("video",{ref_key:"playerRef",ref:o,autoplay:r.autoplay,loop:r.loop,poster:r.poster,"webkit-playsinline":"",playsinline:"",preload:"metadata",src:r.url},[e.createElementVNode("track",{kind:"metadata",default:"",src:r.track},null,8,tt)],8,et),e.withDirectives(e.createElementVNode("div",nt,[e.createVNode(g),ot],512),[[e.vShow,u.value]])],32)}}}),N=(t,n)=>{const o=t.__vccOpts||t;for(const[d,i]of n)o[d]=i;return o},st=N(lt,[["__scopeId","data-v-090c2c21"]]),it=[e.createElementVNode("div",{class:"bili-danmaku-item bili-danmaku-item--demo"},null,-1)],at=e.defineComponent({__name:"index",props:{show:{type:Boolean,default:!0},fontRatio:{default:1},fontBold:{type:Boolean,default:!1},speed:{default:1},opacity:{default:1},displaySize:{default:1},visible:{},sendCallback:{},filter:{}},setup(t){const{state:n}=x(),{playing:o}=n.videoControls,d=t,i=e.ref(),{state:l,init:_,resize:m}=F();return e.onMounted(()=>{_(i.value,d),window.addEventListener("resize",m)}),e.onUnmounted(()=>{window.removeEventListener("resize",m)}),(u,f)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"danmakuContainerRef",ref:i,class:e.normalizeClass(["bili-danmaku-container",{"bili-danmaku-paused":!e.unref(o),"bili-danmaku-move-hide":!e.unref(l).visible.move,"bili-danmaku-top-hide":!e.unref(l).visible.top,"bili-danmaku-bottom-hide":!e.unref(l).visible.bottom,"bili-danmaku-color-hide":!e.unref(l).visible.color}])},it,2))}}),rt={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",preserveAspectRatio:"xMidYMid meet",style:{width:"100%",height:"100%",transform:"translate3d(0px, 0px, 0px)"}},ct=["id"],dt=[e.createElementVNode("rect",{width:"18",height:"18",x:"0",y:"0"},null,-1)],mt=["clip-path"],ft=[e.createStaticVNode('<g transform="matrix(0.9883429408073425,-0.7275781631469727,0.6775955557823181,0.920446515083313,7.3224687576293945,-0.7606706619262695)" opacity="1" style="display:block;"><g opacity="1" transform="matrix(0.9937776327133179,-0.11138220876455307,0.11138220876455307,0.9937776327133179,-2.5239999294281006,1.3849999904632568)"><path fill="rgb(51,51,51)" fill-opacity="1" d=" M0.75,-1.25 C0.75,-1.25 0.75,1.25 0.75,1.25 C0.75,1.663925051689148 0.4139249920845032,2 0,2 C0,2 0,2 0,2 C-0.4139249920845032,2 -0.75,1.663925051689148 -0.75,1.25 C-0.75,1.25 -0.75,-1.25 -0.75,-1.25 C-0.75,-1.663925051689148 -0.4139249920845032,-2 0,-2 C0,-2 0,-2 0,-2 C0.4139249920845032,-2 0.75,-1.663925051689148 0.75,-1.25z"></path></g></g><g transform="matrix(1.1436611413955688,0.7535901665687561,-0.6317168474197388,0.9587040543556213,16.0070743560791,2.902894973754883)" opacity="1" style="display:block;"><g opacity="1" transform="matrix(0.992861807346344,0.1192704513669014,-0.1192704513669014,0.992861807346344,-2.5239999294281006,1.3849999904632568)"><path fill="rgb(51,51,51)" fill-opacity="1" d=" M0.75,-1.25 C0.75,-1.25 0.75,1.25 0.75,1.25 C0.75,1.663925051689148 0.4139249920845032,2 0,2 C0,2 0,2 0,2 C-0.4139249920845032,2 -0.75,1.663925051689148 -0.75,1.25 C-0.75,1.25 -0.75,-1.25 -0.75,-1.25 C-0.75,-1.663925051689148 -0.4139249920845032,-2 0,-2 C0,-2 0,-2 0,-2 C0.4139249920845032,-2 0.75,-1.663925051689148 0.75,-1.25z"></path></g></g><g transform="matrix(1,0,0,1,8.890999794006348,8.406000137329102)" opacity="1" style="display:block;"><g opacity="1" transform="matrix(1,0,0,1,0.09099999815225601,1.1009999513626099)"><path fill="rgb(255,255,255)" fill-opacity="1" d=" M7,-3 C7,-3 7,3 7,3 C7,4.379749774932861 5.879749774932861,5.5 4.5,5.5 C4.5,5.5 -4.5,5.5 -4.5,5.5 C-5.879749774932861,5.5 -7,4.379749774932861 -7,3 C-7,3 -7,-3 -7,-3 C-7,-4.379749774932861 -5.879749774932861,-5.5 -4.5,-5.5 C-4.5,-5.5 4.5,-5.5 4.5,-5.5 C5.879749774932861,-5.5 7,-4.379749774932861 7,-3z"></path><path stroke-linecap="butt" stroke-linejoin="miter" fill-opacity="0" stroke-miterlimit="4" stroke="rgb(51,51,51)" stroke-opacity="1" stroke-width="1.5" d=" M7,-3 C7,-3 7,3 7,3 C7,4.379749774932861 5.879749774932861,5.5 4.5,5.5 C4.5,5.5 -4.5,5.5 -4.5,5.5 C-5.879749774932861,5.5 -7,4.379749774932861 -7,3 C-7,3 -7,-3 -7,-3 C-7,-4.379749774932861 -5.879749774932861,-5.5 -4.5,-5.5 C-4.5,-5.5 4.5,-5.5 4.5,-5.5 C5.879749774932861,-5.5 7,-4.379749774932861 7,-3z"></path></g></g><g transform="matrix(1,0,0,1,8.89900016784668,8.083999633789062)" opacity="1" style="display:block;"><g opacity="1" transform="matrix(1,0,0,1,-2.5239999294281006,1.3849999904632568)"><path fill="rgb(51,51,51)" fill-opacity="1" d=" M0.875,-1.125 C0.875,-1.125 0.875,1.125 0.875,1.125 C0.875,1.607912540435791 0.48291251063346863,2 0,2 C0,2 0,2 0,2 C-0.48291251063346863,2 -0.875,1.607912540435791 -0.875,1.125 C-0.875,1.125 -0.875,-1.125 -0.875,-1.125 C-0.875,-1.607912540435791 -0.48291251063346863,-2 0,-2 C0,-2 0,-2 0,-2 C0.48291251063346863,-2 0.875,-1.607912540435791 0.875,-1.125z"></path></g></g><g transform="matrix(1,0,0,1,14.008999824523926,8.083999633789062)" opacity="1" style="display:block;"><g opacity="1" transform="matrix(1,0,0,1,-2.5239999294281006,1.3849999904632568)"><path fill="rgb(51,51,51)" fill-opacity="1" d=" M0.8999999761581421,-1.100000023841858 C0.8999999761581421,-1.100000023841858 0.8999999761581421,1.100000023841858 0.8999999761581421,1.100000023841858 C0.8999999761581421,1.596709966659546 0.4967099726200104,2 0,2 C0,2 0,2 0,2 C-0.4967099726200104,2 -0.8999999761581421,1.596709966659546 -0.8999999761581421,1.100000023841858 C-0.8999999761581421,1.100000023841858 -0.8999999761581421,-1.100000023841858 -0.8999999761581421,-1.100000023841858 C-0.8999999761581421,-1.596709966659546 -0.4967099726200104,-2 0,-2 C0,-2 0,-2 0,-2 C0.4967099726200104,-2 0.8999999761581421,-1.596709966659546 0.8999999761581421,-1.100000023841858z"></path></g></g>',5)];function pt(t,n){return e.openBlock(),e.createElementBlock("svg",rt,[e.createElementVNode("defs",null,[e.createElementVNode("clipPath",{id:t.idMap.__lottie_element_55},[...dt],8,ct)]),e.createElementVNode("g",{"clip-path":"url(#"+t.idMap.__lottie_element_55+")"},[...ft],8,mt)])}const _t={name:"svg-process",render:pt,data(){return{idMap:{__lottie_element_55:"uicons-"+Math.random().toString(36).substr(2,10)}}}},pe=t=>(e.pushScopeId("data-v-1922558f"),t=t(),e.popScopeId(),t),ut={class:"bili-progress-icon"},ht={class:"bili-progress-popup-time"},gt=pe(()=>e.createElementVNode("div",{class:"bili-progress-move-indicator"},null,-1)),kt=pe(()=>e.createElementVNode("div",{class:"bili-progress-action-area"},null,-1)),wt=N(e.defineComponent({__name:"index",setup(t){const n=e.ref(),{state:o}=x(),{currentTime:d,duration:i,buffered:l}=o.videoControls,{width:_}=X(n),m=e.ref(0),u=F(),f=a=>{d.value=a.offsetX/_.value*i.value,u.seek()};return(a,c)=>{const s=_t;return e.openBlock(),e.createElementBlock("div",{ref_key:"processRef",ref:n,class:"bili-progress-container",onMousemove:c[0]||(c[0]=r=>m.value=r.offsetX),onClick:f},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(l),(r,h)=>(e.openBlock(),e.createElementBlock("div",{key:h,class:"bili-progress-buffer",style:e.normalizeStyle({left:`${r[0]/e.unref(i)*e.unref(_)}px`,width:`${(r[1]-r[0])/e.unref(i)*e.unref(_)}px`})},null,4))),128)),e.createElementVNode("div",{class:"bili-progress-current",style:e.normalizeStyle({width:`${e.unref(d)/e.unref(i)*100}%`})},[e.createElementVNode("div",ut,[e.createVNode(s)])],4),e.createElementVNode("div",{class:"bili-progress-move",style:e.normalizeStyle({left:`${m.value-25}px`})},[e.createElementVNode("div",ht,e.toDisplayString(e.unref(U)(m.value/e.unref(_)*e.unref(i))),1),gt],4),kt],544)}}}),[["__scopeId","data-v-1922558f"]]),bt={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},yt=[e.createElementVNode("path",{fill:"white",d:"M17.222 8.685a1.5 1.5 0 0 1 0 2.628l-10 5.498A1.5 1.5 0 0 1 5 15.496V4.502a1.5 1.5 0 0 1 2.223-1.314z"},null,-1)];function $t(t,n){return e.openBlock(),e.createElementBlock("svg",bt,[...yt])}const vt={name:"svg-play",render:$t},Et={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},Ct=[e.createElementVNode("path",{fill:"white",d:"M5 2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm8 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"},null,-1)];function Vt(t,n){return e.openBlock(),e.createElementBlock("svg",Et,[...Ct])}const xt={name:"svg-pause",render:Vt},Bt={class:"bili-control-left"},Nt={class:"bili-control-play"},St=N(e.defineComponent({__name:"index",setup(t){const{state:n}=x(),{currentTime:o,duration:d,playing:i,waiting:l}=n.videoControls,_=e.ref(),m=e.ref(!1),u=e.ref(""),f=async()=>{u.value=U(o.value),m.value=!0,await e.nextTick(),_.value.focus()},a=()=>{m.value=!1;const c=u.value.split(":");try{if(c.length===1){const s=+c[0];if(s>=60)return;o.value=s}else if(c.length===2){const s=+c[0],r=+c[1];if(s>=60||r>=60)return;o.value=r+s*60}else if(c.length===3){const s=+c[0],r=+c[1],h=+c[2];if(r>=60||h>=60)return;o.value=h+r*60+s*3600}}catch{}};return(c,s)=>{const r=xt,h=vt;return e.openBlock(),e.createElementBlock("div",Bt,[e.createElementVNode("div",Nt,[e.createVNode(e.Transition,{mode:"out-in","enter-form-class":"bili-control-play-transiton","leave-to-class":"bili-control-play-transiton"},{default:e.withCtx(()=>[e.unref(i)||e.unref(l)?(e.openBlock(),e.createBlock(r,{key:0,onClick:s[0]||(s[0]=g=>i.value=!1)})):(e.openBlock(),e.createBlock(h,{key:1,onClick:s[1]||(s[1]=g=>i.value=!0)}))]),_:1})]),m.value?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:_,"onUpdate:modelValue":s[2]||(s[2]=g=>u.value=g),class:"bili-control-time-input",onKeydown:e.withKeys(a,["enter"]),onBlur:s[3]||(s[3]=g=>m.value=!1)},null,544)),[[e.vModelText,u.value]]):(e.openBlock(),e.createElementBlock("div",{key:0,class:"bili-control-current-time",onClick:f},e.toDisplayString(e.unref(U)(e.unref(o)))+" / "+e.toDisplayString(e.unref(U)(e.unref(d))),1))])}}}),[["__scopeId","data-v-6bacef68"]]),zt={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Mt=[e.createElementVNode("path",{fill:"currentColor",d:"M6 16h2v2c0 .55.45 1 1 1s1-.45 1-1v-3c0-.55-.45-1-1-1H6c-.55 0-1 .45-1 1s.45 1 1 1m2-8H6c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1s-1 .45-1 1zm7 11c.55 0 1-.45 1-1v-2h2c.55 0 1-.45 1-1s-.45-1-1-1h-3c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1m1-11V6c0-.55-.45-1-1-1s-1 .45-1 1v3c0 .55.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1z"},null,-1)];function Ft(t,n){return e.openBlock(),e.createElementBlock("svg",zt,[...Mt])}const Tt={name:"svg-fullscreen-exit",render:Ft},It={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Dt=[e.createElementVNode("path",{fill:"currentColor",d:"M6 14c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1H7v-2c0-.55-.45-1-1-1m0-4c.55 0 1-.45 1-1V7h2c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1m11 7h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1s-1 .45-1 1zM14 6c0 .55.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1"},null,-1)];function Rt(t,n){return e.openBlock(),e.createElementBlock("svg",It,[...Dt])}const At={name:"svg-fullscreen-enter",render:Rt},Lt={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Ht=[e.createElementVNode("g",{fill:"none"},[e.createElementVNode("path",{d:"M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),e.createElementVNode("path",{fill:"white",d:"M20 12a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2zm-1-8a2 2 0 0 1 2 2v4a1 1 0 1 1-2 0V6H4v11h7a1 1 0 1 1 0 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm1 10h-5v4h5zM10 8a1 1 0 1 1 0 2h-.586l1.915 1.915a1 1 0 0 1-1.414 1.414L8 11.414V12a1 1 0 1 1-2 0V9a1 1 0 0 1 1-1z"})],-1)];function Pt(t,n){return e.openBlock(),e.createElementBlock("svg",Lt,[...Ht])}const Zt={name:"svg-pic-in-pic-exit",render:Pt},Ot={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Ut=[e.createElementVNode("g",{fill:"none"},[e.createElementVNode("path",{d:"M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),e.createElementVNode("path",{fill:"white",d:"M20 12a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2zm-1-8a2 2 0 0 1 2 2v4a1 1 0 1 1-2 0V6H4v11h7a1 1 0 1 1 0 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2zm1 10h-5v4h5zM7.087 7.673l1.915 1.915v-.586a1 1 0 1 1 2 0v3a1 1 0 0 1-1 1h-3a1 1 0 1 1 0-2h.586L5.673 9.087a1 1 0 1 1 1.414-1.414"})],-1)];function qt(t,n){return e.openBlock(),e.createElementBlock("svg",Ot,[...Ut])}const Wt={name:"svg-pic-in-pic-enter",render:qt},jt={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Xt=[e.createElementVNode("g",{fill:"none","fill-rule":"evenodd"},[e.createElementVNode("path",{fill:"white",d:"M15 4.194v15.612a1.1 1.1 0 0 1-1.74.895L6.68 16H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h2.68l6.58-4.7a1.1 1.1 0 0 1 1.74.894m-2 1.75L7.842 9.626A2 2 0 0 1 6.68 10H4v4h2.68a2 2 0 0 1 1.162.372L13 18.057V5.943Zm5.255.917a1 1 0 0 1 1.412-.078A6.985 6.985 0 0 1 22 12a6.985 6.985 0 0 1-2.333 5.217a1 1 0 1 1-1.334-1.49A4.985 4.985 0 0 0 20 12c0-1.48-.642-2.81-1.667-3.727a1 1 0 0 1-.078-1.412m-.588 2.158A3.992 3.992 0 0 1 19 12a3.99 3.99 0 0 1-1.333 2.981a1 1 0 0 1-1.422-1.4l.088-.09c.41-.368.667-.899.667-1.491a1.99 1.99 0 0 0-.548-1.376l-.119-.115a1 1 0 0 1 1.334-1.49"})],-1)];function Jt(t,n){return e.openBlock(),e.createElementBlock("svg",jt,[...Xt])}const Yt={name:"svg-volume",render:Jt},Kt={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Gt=[e.createElementVNode("g",{fill:"none","fill-rule":"evenodd"},[e.createElementVNode("path",{d:"M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"}),e.createElementVNode("path",{fill:"white",d:"m4.596 8l2 2H4v4h2.68a2 2 0 0 1 1.162.373L13 18.057v-1.653l2 2v1.402a1.1 1.1 0 0 1-1.74.895L6.68 16H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2zm8.665-4.7a1.1 1.1 0 0 1 1.733.78l.006.114v9.392l1.113 1.113a1 1 0 0 1 .132-1.119l.088-.089c.41-.368.667-.899.667-1.491a1.99 1.99 0 0 0-.548-1.376l-.119-.115a1 1 0 1 1 1.334-1.49A3.993 3.993 0 0 1 19 12a3.99 3.99 0 0 1-1.333 2.981a1 1 0 0 1-1.007.196l-.123-.054l1.47 1.47a.999.999 0 0 1 .326-.866A4.985 4.985 0 0 0 20 12c0-1.48-.642-2.81-1.667-3.727a1 1 0 1 1 1.334-1.49A6.985 6.985 0 0 1 22 12a6.985 6.985 0 0 1-2.333 5.217a.996.996 0 0 1-.669.255l-.119-.007l1.606 1.606a1 1 0 0 1-1.32 1.497l-.094-.083L3.515 4.93a1 1 0 0 1 1.32-1.497l.094.083L8.275 6.86l4.986-3.562ZM13 5.942L9.709 8.294L13 11.586z"})],-1)];function Qt(t,n){return e.openBlock(),e.createElementBlock("svg",Kt,[...Gt])}const en={name:"svg-mute",render:Qt},tn={class:"bili-popover-content"},P=N(e.defineComponent({__name:"popover",props:{contentEvent:{type:Boolean},disabled:{type:Boolean},keepOpen:{type:Boolean}},setup(t){const n=e.ref(!1);return(o,d)=>(e.openBlock(),e.createElementBlock("div",{class:"bili-popover",onMouseenter:d[0]||(d[0]=i=>n.value=!0),onMouseleave:d[1]||(d[1]=i=>n.value=!1)},[e.createVNode(e.Transition,{"enter-from-class":"op-0","leave-to-class":"op-0"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",{class:e.normalizeClass(["bili-popover-container",{"pointer-events-none":o.contentEvent}])},[e.createElementVNode("div",tn,[e.renderSlot(o.$slots,"content",{},void 0,!0)])],2),[[e.vShow,!o.disabled&&(n.value||o.keepOpen)]])]),_:3}),e.renderSlot(o.$slots,"default",{},void 0,!0)],32))}}),[["__scopeId","data-v-8a42e0b3"]]),nn={class:"bili-tooltip-text"},Q=N(e.defineComponent({__name:"tooltip",props:{content:{},disabled:{type:Boolean},keepOpen:{type:Boolean}},setup(t){return(n,o)=>(e.openBlock(),e.createBlock(P,{"content-event":"",disabled:n.disabled,"keep-open":n.keepOpen},{content:e.withCtx(()=>[e.createElementVNode("div",nn,e.toDisplayString(n.content),1)]),default:e.withCtx(()=>[e.renderSlot(n.$slots,"default",{},void 0,!0)]),_:3},8,["disabled","keep-open"]))}}),[["__scopeId","data-v-706a4ee0"]]),on=t=>(e.pushScopeId("data-v-1b062f0c"),t=t(),e.popScopeId(),t),ln={class:"bili-slider-container"},sn=[on(()=>e.createElementVNode("div",{class:"bili-slider-dot"},null,-1))],q=N(e.defineComponent({__name:"slider",props:{value:{},max:{default:1},min:{default:0}},emits:["update:value"],setup(t,{emit:n}){const o=t,i=O(o,"value",n),l=e.ref(),{width:_}=X(l),m=s=>{s>o.max&&(s=o.max),s<o.min&&(s=o.min),i.value=s};let u=!1;const f=s=>{u=!0,m(s.offsetX/_.value*(o.max-o.min)+o.min)},a=s=>{u=!1},c=s=>{u&&m(s.offsetX/_.value*(o.max-o.min)+o.min)};return e.onMounted(()=>{window.addEventListener("mouseup",a)}),e.onUnmounted(()=>{window.removeEventListener("mouseup",a)}),(s,r)=>(e.openBlock(),e.createElementBlock("div",{class:"bili-slider",onMousedown:f,onMousemove:c},[e.createElementVNode("div",{ref_key:"sliderContainerRef",ref:l},[e.createElementVNode("div",ln,[e.createElementVNode("div",{class:"bili-slider-var",style:e.normalizeStyle({width:`${1/(s.max-s.min)*(e.unref(i)-s.min)*e.unref(_)}px`})},sn,4)])],512)],32))}}),[["__scopeId","data-v-1b062f0c"]]),an=t=>(e.pushScopeId("data-v-bb3f9299"),t=t(),e.popScopeId(),t),rn={class:"bili-slider-vertical"},cn={class:"bili-slider-container"},dn=[an(()=>e.createElementVNode("div",{class:"bili-slider-dot"},null,-1))],mn=N(e.defineComponent({__name:"slider-vertical",props:{value:{}},emits:["update:value"],setup(t,{emit:n}){const i=O(t,"value",n),l=e.ref(),{height:_}=X(l);let m=!1;const u=c=>{m=!0;const s=1-c.offsetY/_.value;i.value=s>1?1:s},f=c=>{m=!1},a=c=>{if(!m)return;const s=1-c.offsetY/_.value;i.value=s>1?1:s};return e.onMounted(()=>{window.addEventListener("mouseup",f)}),e.onUnmounted(()=>{window.removeEventListener("mouseup",f)}),(c,s)=>(e.openBlock(),e.createElementBlock("div",rn,[e.createElementVNode("div",{ref_key:"sliderContainerRef",ref:l,onMousedown:u,onMousemove:a},[e.createElementVNode("div",cn,[e.createElementVNode("div",{class:"bili-slider-var",style:e.normalizeStyle({height:`${e.unref(i)*e.unref(_)}px`})},dn,4)])],544)]))}}),[["__scopeId","data-v-bb3f9299"]]),fn={class:"bili-choose"},pn=["onClick"],_n=N(e.defineComponent({__name:"choose",props:{value:{},options:{}},emits:["update:value"],setup(t,{emit:n}){const i=O(t,"value",n);return(l,_)=>(e.openBlock(),e.createElementBlock("div",fn,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.options,m=>(e.openBlock(),e.createElementBlock("div",{key:m.value,class:e.normalizeClass(["bili-choose-item",{"bili-choose-item-active":e.unref(i)===m.value}]),onClick:u=>i.value=m.value},e.toDisplayString(m.label),11,pn))),128))]))}}),[["__scopeId","data-v-659577ae"]]),un={class:"bili-control-right"},hn={class:"bili-control-rate-text"},gn={class:"bili-control-volume-text"},kn=N(e.defineComponent({__name:"index",setup(t){const{state:n}=x(),{rate:o,muted:d,volume:i,isPictureInPicture:l,togglePictureInPicture:_}=n.videoControls,{isFullscreen:m,toggle:u}=n.fullscreenControls,f=[{label:"2.0x",value:2},{label:"1.5x",value:1.5},{label:"1.25x",value:1.25},{label:"1.0x",value:1},{label:"0.75x",value:.75},{label:"0.5x",value:.5}];return(a,c)=>{const s=en,r=Yt,h=Wt,g=Zt,b=At,k=Tt;return e.openBlock(),e.createElementBlock("div",un,[e.createVNode(e.unref(P),{class:"bili-control-item"},{content:e.withCtx(()=>[e.createVNode(e.unref(_n),{value:e.unref(o),"onUpdate:value":c[0]||(c[0]=y=>e.isRef(o)?o.value=y:null),options:f},null,8,["value"])]),default:e.withCtx(()=>[e.createElementVNode("div",hn,e.toDisplayString(e.unref(o)===1?"倍数":`${e.unref(o)}x`),1)]),_:1}),e.createVNode(e.unref(P),{class:"bili-control-item-else"},{content:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",null,[e.createElementVNode("div",gn,e.toDisplayString(Math.floor(e.unref(i)*100)),1),e.createVNode(e.unref(mn),{value:e.unref(i),"onUpdate:value":c[1]||(c[1]=y=>e.isRef(i)?i.value=y:null),class:"bili-control-volume-slider"},null,8,["value"])],512),[[e.vShow,!e.unref(d)]])]),default:e.withCtx(()=>[e.createElementVNode("div",{class:"bili-control-icon",onClick:c[2]||(c[2]=y=>d.value=!e.unref(d))},[e.unref(d)?(e.openBlock(),e.createBlock(s,{key:0})):(e.openBlock(),e.createBlock(r,{key:1}))])]),_:1}),e.createVNode(e.unref(Q),{class:"bili-control-item-else",content:e.unref(l)?"退出画中画":"开启画中画"},{default:e.withCtx(()=>[e.createElementVNode("div",{class:"bili-control-icon",onClick:c[3]||(c[3]=(...y)=>e.unref(_)&&e.unref(_)(...y))},[e.unref(l)?(e.openBlock(),e.createBlock(g,{key:1})):(e.openBlock(),e.createBlock(h,{key:0}))])]),_:1},8,["content"]),e.createVNode(e.unref(Q),{class:"bili-control-item-else",content:e.unref(m)?"退出全屏(f)":"进入全屏(f)"},{default:e.withCtx(()=>[e.createElementVNode("div",{class:"bili-control-icon bili-icon-larger",onClick:c[4]||(c[4]=(...y)=>e.unref(u)&&e.unref(u)(...y))},[e.unref(m)?(e.openBlock(),e.createBlock(k,{key:1})):(e.openBlock(),e.createBlock(b,{key:0}))])]),_:1},8,["content"])])}}}),[["__scopeId","data-v-c1ca5566"]]),wn={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg","data-pointer":"none",viewBox:"0 0 24 24"},bn=[e.createElementVNode("path",{fill:"#ddd","fill-rule":"evenodd",d:"m8.085 4.891-.999-1.499a1.008 1.008 0 0 1 1.679-1.118l1.709 2.566c.54-.008 1.045-.012 1.515-.012h.13c.345 0 .707.003 1.088.007l1.862-2.59a1.008 1.008 0 0 1 1.637 1.177l-1.049 1.46c.788.02 1.631.046 2.53.078 1.958.069 3.468 1.6 3.74 3.507.088.613.13 2.158.16 3.276l.001.027c.01.333.017.63.025.856a.987.987 0 0 1-1.974.069c-.008-.23-.016-.539-.025-.881v-.002c-.028-1.103-.066-2.541-.142-3.065-.143-1.004-.895-1.78-1.854-1.813-2.444-.087-4.466-.13-6.064-.131-1.598 0-3.619.044-6.063.13a2.037 2.037 0 0 0-1.945 1.748c-.15 1.04-.225 2.341-.225 3.904 0 1.874.11 3.474.325 4.798.154.949.95 1.66 1.91 1.708a97.58 97.58 0 0 0 5.416.139.988.988 0 0 1 0 1.975c-2.196 0-3.61-.047-5.513-.141A4.012 4.012 0 0 1 2.197 17.7c-.236-1.446-.351-3.151-.351-5.116 0-1.64.08-3.035.245-4.184A4.013 4.013 0 0 1 5.92 4.96c.761-.027 1.483-.05 2.164-.069Zm4.436 4.707h-1.32v4.63h2.222v.848h-2.618v1.078h2.431a5.01 5.01 0 0 1 3.575-3.115V9.598h-1.276a8.59 8.59 0 0 0 .748-1.42l-1.089-.384a14.232 14.232 0 0 1-.814 1.804h-1.518l.693-.308a8.862 8.862 0 0 0-.814-1.408l-1.045.352c.297.396.572.847.825 1.364Zm-4.18 3.564.154-1.485h1.98V8.289h-3.2v.979h2.067v1.43H7.483l-.308 3.454h2.277c0 1.166-.044 1.925-.12 2.277-.078.352-.386.528-.936.528-.308 0-.616-.022-.902-.055l.297 1.067.062.004c.285.02.551.04.818.04 1.001-.066 1.562-.418 1.694-1.056.11-.638.176-1.903.176-3.795h-2.2Zm7.458.11v-.858h-1.254v.858H15.8Zm-2.376-.858v.858h-1.199v-.858h1.2Zm-1.199-.946h1.2v-.902h-1.2v.902Zm2.321 0v-.902H15.8v.902h-1.254Zm3.517 10.594a4 4 0 1 0 0-8 4 4 0 0 0 0 8Zm-.002-1.502a2.5 2.5 0 0 1-2.217-3.657l3.326 3.398a2.49 2.49 0 0 1-1.109.259Zm2.5-2.5c0 .42-.103.815-.286 1.162l-3.328-3.401a2.5 2.5 0 0 1 3.614 2.239Z","clip-rule":"evenodd"},null,-1)];function yn(t,n){return e.openBlock(),e.createElementBlock("svg",wn,[...bn])}const $n={name:"svg-danmaku-off",render:yn},vn={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg","data-pointer":"none",viewBox:"0 0 24 24"},En=[e.createElementVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"M11.989 4.828c-.47 0-.975.004-1.515.012l-1.71-2.566a1.008 1.008 0 0 0-1.678 1.118l.999 1.5c-.681.018-1.403.04-2.164.068a4.013 4.013 0 0 0-3.83 3.44c-.165 1.15-.245 2.545-.245 4.185 0 1.965.115 3.67.35 5.116a4.012 4.012 0 0 0 3.763 3.363l.906.046c1.205.063 1.808.095 3.607.095a.988.988 0 0 0 0-1.975c-1.758 0-2.339-.03-3.501-.092l-.915-.047a2.037 2.037 0 0 1-1.91-1.708c-.216-1.324-.325-2.924-.325-4.798 0-1.563.076-2.864.225-3.904.14-.977.96-1.713 1.945-1.747 2.444-.087 4.465-.13 6.063-.131 1.598 0 3.62.044 6.064.13.96.034 1.71.81 1.855 1.814.075.524.113 1.962.141 3.065v.002c.01.342.017.65.025.88a.987.987 0 1 0 1.974-.068c-.008-.226-.016-.523-.025-.856v-.027c-.03-1.118-.073-2.663-.16-3.276-.273-1.906-1.783-3.438-3.74-3.507-.9-.032-1.743-.058-2.531-.078l1.05-1.46a1.008 1.008 0 0 0-1.638-1.177l-1.862 2.59c-.38-.004-.744-.007-1.088-.007h-.13Zm.521 4.775h-1.32v4.631h2.222v.847h-2.618v1.078h2.618l.003.678c.36.026.714.163 1.01.407h.11v-1.085h2.694v-1.078h-2.695v-.847H16.8v-4.63h-1.276a8.59 8.59 0 0 0 .748-1.42L15.183 7.8a14.232 14.232 0 0 1-.814 1.804h-1.518l.693-.308a8.862 8.862 0 0 0-.814-1.408l-1.045.352c.297.396.572.847.825 1.364Zm-4.18 3.564.154-1.485h1.98V8.294h-3.2v.98H9.33v1.43H7.472l-.308 3.453h2.277c0 1.166-.044 1.925-.12 2.277-.078.352-.386.528-.936.528-.308 0-.616-.022-.902-.055l.297 1.067.062.005c.285.02.551.04.818.04 1.001-.067 1.562-.419 1.694-1.057.11-.638.176-1.903.176-3.795h-2.2Zm7.458.11v-.858h-1.254v.858h1.254Zm-2.376-.858v.858h-1.199v-.858h1.2Zm-1.199-.946h1.2v-.902h-1.2v.902Zm2.321 0v-.902h1.254v.902h-1.254Z","clip-rule":"evenodd"},null,-1),e.createElementVNode("path",{fill:"#00AEEC","fill-rule":"evenodd",d:"M22.846 14.627a1 1 0 0 0-1.412.075l-5.091 5.703-2.216-2.275-.097-.086-.008-.005a1 1 0 0 0-1.322 1.493l2.963 3.041.093.083.007.005c.407.315 1 .27 1.354-.124l5.81-6.505.08-.102.005-.008a1 1 0 0 0-.166-1.295Z","clip-rule":"evenodd"},null,-1)];function Cn(t,n){return e.openBlock(),e.createElementBlock("svg",vn,[...En])}const Vn={name:"svg-danmaku-on",render:Cn},xn={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg","data-pointer":"none",viewBox:"0 0 24 24"},Bn=[e.createElementVNode("path",{fill:"currentColor","fill-rule":"evenodd",d:"m15.645 4.881 1.06-1.473a.998.998 0 1 0-1.622-1.166L13.22 4.835a110.67 110.67 0 0 0-1.1-.007h-.131c-.47 0-.975.004-1.515.012L8.783 2.3A.998.998 0 0 0 7.12 3.408l.988 1.484c-.688.019-1.418.042-2.188.069a4.013 4.013 0 0 0-3.83 3.44c-.165 1.15-.245 2.545-.245 4.185 0 1.965.115 3.67.35 5.116a4.012 4.012 0 0 0 3.763 3.363c1.903.094 3.317.141 5.513.141a.988.988 0 0 0 0-1.975 97.58 97.58 0 0 1-5.416-.139 2.037 2.037 0 0 1-1.91-1.708c-.216-1.324-.325-2.924-.325-4.798 0-1.563.076-2.864.225-3.904.14-.977.96-1.713 1.945-1.747 2.444-.087 4.465-.13 6.063-.131 1.598 0 3.62.044 6.064.13.96.034 1.71.81 1.855 1.814.075.524.113 1.962.141 3.065v.002c.005.183.01.07.014-.038.004-.096.008-.189.011-.081a.987.987 0 1 0 1.974-.069c-.004-.105-.007-.009-.011.09-.002.056-.004.112-.007.135l-.002.01a.574.574 0 0 1-.005-.091v-.027c-.03-1.118-.073-2.663-.16-3.276-.273-1.906-1.783-3.438-3.74-3.507-.905-.032-1.752-.058-2.543-.079Zm-3.113 4.703h-1.307v4.643h2.2v.04l.651-1.234c.113-.215.281-.389.482-.509v-.11h.235c.137-.049.283-.074.433-.074h1.553V9.584h-1.264a8.5 8.5 0 0 0 .741-1.405l-1.078-.381c-.24.631-.501 1.23-.806 1.786h-1.503l.686-.305c-.228-.501-.5-.959-.806-1.394l-1.034.348c.294.392.566.839.817 1.35Zm-1.7 5.502h2.16l-.564 1.068h-1.595v-1.068Zm-2.498-1.863.152-1.561h1.96V8.289H7.277v.969h2.048v1.435h-1.84l-.306 3.51h2.254c0 1.155-.043 1.906-.12 2.255-.076.348-.38.523-.925.523-.305 0-.61-.022-.893-.055l.294 1.056.061.005c.282.02.546.039.81.039.991-.065 1.547-.414 1.677-1.046.11-.631.175-1.883.175-3.757H8.334Zm5.09-.8v.85h-1.188v-.85h1.187Zm-1.188-.955h1.187v-.893h-1.187v.893Zm2.322.007v-.893h1.241v.893h-1.241Zm.528 2.757a1.26 1.26 0 0 1 1.087-.627l4.003-.009a1.26 1.26 0 0 1 1.094.63l1.721 2.982c.226.39.225.872-.001 1.263l-1.743 3a1.26 1.26 0 0 1-1.086.628l-4.003.009a1.26 1.26 0 0 1-1.094-.63l-1.722-2.982a1.26 1.26 0 0 1 .002-1.263l1.742-3Zm1.967.858a1.26 1.26 0 0 0-1.08.614l-.903 1.513a1.26 1.26 0 0 0-.002 1.289l.885 1.492c.227.384.64.62 1.086.618l2.192-.005a1.26 1.26 0 0 0 1.08-.615l.904-1.518a1.26 1.26 0 0 0 .001-1.288l-.884-1.489a1.26 1.26 0 0 0-1.086-.616l-2.193.005Zm2.517 2.76a1.4 1.4 0 1 1-2.8 0 1.4 1.4 0 0 1 2.8 0Z","clip-rule":"evenodd"},null,-1)];function Nn(t,n){return e.openBlock(),e.createElementBlock("svg",xn,[...Bn])}const Sn={name:"svg-danmaku-setting",render:Nn},zn={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve","data-pointer":"none",style:{"enable-background":"new 0 0 28 28"},viewBox:"0 0 28 28"},Mn=[e.createElementVNode("path",{fill:"#00aeec",d:"M17.823 15.247c.612 0 1.148-.535 1.148-1.147s-.536-1.147-1.148-1.147c-.611 0-1.147.535-1.147 1.147s.536 1.147 1.147 1.147zM17.365 11.118c0-.612-.535-1.147-1.147-1.147s-1.147.535-1.147 1.147c0 .611.535 1.147 1.147 1.147s1.147-.536 1.147-1.147z"},null,-1),e.createElementVNode("path",{fill:"#00aeec",d:"M18.235 16.872c-1.483.086-2.859-.172-3.546.516-.918.918 1.529 1.606 0 2.219-1.988.84-7.341-.535-8.182-4.053-.841-3.441 2.905-6.5 5.888-7.035 2.906-.535 6.041.841 8.181 2.982 1.208 1.253 1.265 2.663.782 3.694A6.938 6.938 0 0 1 23 15c1.487 0 2.866.464 4 1.255V7.167C27 4.833 25.318 3 23.177 3H4.824C2.683 3 1 4.833 1 7.167v13.665C1 23.167 2.683 25 4.824 25h11.85A6.97 6.97 0 0 1 16 22c0-2.025.86-3.85 2.235-5.128z"},null,-1),e.createElementVNode("path",{fill:"#00aeec",d:"M8.876 16.319c0 .611.535 1.146 1.147 1.146s1.147-.535 1.147-1.146c0-.612-.535-1.148-1.147-1.148s-1.147.536-1.147 1.148zM9.794 11.883c-.764 0-1.376.612-1.376 1.3 0 .689.612 1.3 1.376 1.3s1.376-.611 1.376-1.3c.001-.688-.611-1.3-1.376-1.3zM11.553 10.965c0 .689.612 1.301 1.376 1.301s1.376-.612 1.376-1.301-.612-1.3-1.376-1.3-1.376.611-1.376 1.3zM26.536 18.464a5 5 0 0 0-7.071 0 5 5 0 0 0 0 7.071 5 5 0 1 0 7.071-7.071zm-5.657 5.657a3 3 0 0 1-.586-3.415l4.001 4.001a3 3 0 0 1-3.415-.586zm4.829-.827-4.001-4.001a3.002 3.002 0 0 1 4.001 4.001z"},null,-1)];function Fn(t,n){return e.openBlock(),e.createElementBlock("svg",zn,[...Mn])}const Tn={name:"svg-danmaku-color-off",render:Fn},In={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve","data-pointer":"none",style:{"enable-background":"new 0 0 28 28"},viewBox:"0 0 28 28"},Dn=[e.createElementVNode("path",{fill:"white",d:"M17.365 11.118c0-.612-.535-1.147-1.147-1.147s-1.147.535-1.147 1.147c0 .611.535 1.147 1.147 1.147s1.147-.536 1.147-1.147zM12.93 9.665c-.764 0-1.376.611-1.376 1.3 0 .689.612 1.301 1.376 1.301s1.376-.612 1.376-1.301-.612-1.3-1.376-1.3zM9.794 11.883c-.764 0-1.376.612-1.376 1.3 0 .689.612 1.3 1.376 1.3s1.376-.611 1.376-1.3c.001-.688-.611-1.3-1.376-1.3zM10.023 15.171c-.612 0-1.147.536-1.147 1.148 0 .611.535 1.146 1.147 1.146s1.147-.535 1.147-1.146c.001-.612-.535-1.148-1.147-1.148zM17.823 12.953c-.611 0-1.147.535-1.147 1.147s.536 1.147 1.147 1.147c.612 0 1.148-.535 1.148-1.147s-.536-1.147-1.148-1.147z"},null,-1),e.createElementVNode("path",{fill:"white",d:"M23.177 3H4.824C2.683 3 1 4.833 1 7.167v13.665C1 23.167 2.683 25 4.824 25h18.353C25.318 25 27 23.167 27 20.833V7.167C27 4.833 25.318 3 23.177 3zm-3.442 13.624c-1.987.612-4.129-.154-5.046.764-.918.918 1.529 1.606 0 2.219-1.988.84-7.341-.535-8.182-4.053-.841-3.441 2.905-6.5 5.888-7.035 2.906-.535 6.041.841 8.181 2.982 2.065 2.141.765 4.74-.841 5.123z"},null,-1)];function Rn(t,n){return e.openBlock(),e.createElementBlock("svg",In,[...Dn])}const An={name:"svg-danmaku-color-on",render:Rn},Ln={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve","data-pointer":"none",style:{"enable-background":"new 0 0 28 28"},viewBox:"0 0 28 28"},Hn=[e.createElementVNode("path",{fill:"#00aeec",d:"M23 15c1.487 0 2.866.464 4 1.255V7a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h11.674A7 7 0 0 1 23 15zM9 21H7v-2h2v2zm4 0h-2v-2h2v2z"},null,-1),e.createElementVNode("path",{fill:"#00aeec",d:"M26.536 18.464a5 5 0 0 0-7.071 0 5 5 0 0 0 0 7.071 5 5 0 1 0 7.071-7.071zm-5.657 5.657a3 3 0 0 1-.586-3.415l4.001 4.001a3 3 0 0 1-3.415-.586zm4.829-.827-4.001-4.001a3.002 3.002 0 0 1 4.001 4.001z"},null,-1)];function Pn(t,n){return e.openBlock(),e.createElementBlock("svg",Ln,[...Hn])}const Zn={name:"svg-danmaku-bottom-off",render:Pn},On={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve","data-pointer":"none",style:{"enable-background":"new 0 0 28 28"},viewBox:"0 0 28 28"},Un=[e.createElementVNode("path",{fill:"currentColor",d:"M23 3H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h18a4 4 0 0 0 4-4V7a4 4 0 0 0-4-4zM9 21H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2z"},null,-1)];function qn(t,n){return e.openBlock(),e.createElementBlock("svg",On,[...Un])}const _e={name:"svg-danmaku-bottom-on",render:qn},Wn={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve","data-pointer":"none",style:{"enable-background":"new 0 0 28 28"},viewBox:"0 0 28 28"},jn=[e.createElementVNode("path",{fill:"#00aeec",d:"M23 15c1.487 0 2.866.464 4 1.255V7a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h11.674A7 7 0 0 1 23 15zm-4-8h2v2h-2V7zM9 9H7V7h2v2zm4 0h-2V7h2v2zm2-2h2v2h-2V7z"},null,-1),e.createElementVNode("path",{fill:"#00aeec",d:"M26.536 18.464a5 5 0 0 0-7.071 0 5 5 0 0 0 0 7.071 5 5 0 1 0 7.071-7.071zm-5.657 5.657a3 3 0 0 1-.586-3.415l4.001 4.001a3 3 0 0 1-3.415-.586zm4.829-.827-4.001-4.001a3.002 3.002 0 0 1 4.001 4.001z"},null,-1)];function Xn(t,n){return e.openBlock(),e.createElementBlock("svg",Wn,[...jn])}const Jn={name:"svg-danmaku-top-off",render:Xn},Yn={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve","data-pointer":"none",style:{"enable-background":"new 0 0 28 28"},viewBox:"0 0 28 28"},Kn=[e.createElementVNode("path",{fill:"currentColor",d:"M23 3H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h18a4 4 0 0 0 4-4V7a4 4 0 0 0-4-4zM9 9H7V7h2v2zm4 0h-2V7h2v2zm4 0h-2V7h2v2zm4 0h-2V7h2v2z"},null,-1)];function Gn(t,n){return e.openBlock(),e.createElementBlock("svg",Yn,[...Kn])}const ue={name:"svg-danmaku-top-on",render:Gn},Qn={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve","data-pointer":"none",style:{"enable-background":"new 0 0 28 28"},viewBox:"0 0 28 28"},eo=[e.createElementVNode("path",{fill:"#00aeec",d:"M23 15c1.487 0 2.866.464 4 1.255V7a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h11.674A7 7 0 0 1 23 15zM11 9h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm-3 2H6V9h2v2zm4 4h-2v-2h2v2zm2-1a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2h-1a1 1 0 0 1-1-1z"},null,-1),e.createElementVNode("path",{fill:"#00aeec",d:"M26.536 18.464a5 5 0 0 0-7.071 0 5 5 0 0 0 0 7.071 5 5 0 1 0 7.071-7.071zm-5.657 5.657a3 3 0 0 1-.586-3.415l4.001 4.001a3 3 0 0 1-3.415-.586zm4.829-.827-4.001-4.001a3.002 3.002 0 0 1 4.001 4.001z"},null,-1)];function to(t,n){return e.openBlock(),e.createElementBlock("svg",Qn,[...eo])}const no={name:"svg-danmaku-move-off",render:to},oo={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve","data-pointer":"none",style:{"enable-background":"new 0 0 28 28"},viewBox:"0 0 28 28"},lo=[e.createElementVNode("path",{fill:"currentColor",d:"M23 3H5a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h18a4 4 0 0 0 4-4V7a4 4 0 0 0-4-4zM11 9h6a1 1 0 0 1 0 2h-6a1 1 0 0 1 0-2zm-3 2H6V9h2v2zm4 4h-2v-2h2v2zm9 0h-6a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2z"},null,-1)];function so(t,n){return e.openBlock(),e.createElementBlock("svg",oo,[...lo])}const he={name:"svg-danmaku-move-on",render:so},ee=t=>(e.pushScopeId("data-v-a9f5effa"),t=t(),e.popScopeId(),t),io={class:"bili-danma-setting-container"},ao=ee(()=>e.createElementVNode("div",null,"按类型屏蔽",-1)),ro={class:"bili-setting-type"},co={class:"bili-setting-slider"},mo={class:"bili-setting-slider"},fo={class:"bili-setting-slider"},po={class:"bili-setting-slider"},_o=ee(()=>e.createElementVNode("div",{class:"bili-divider"},null,-1)),uo={class:"bili-setting-bold"},ho={class:""},go=ee(()=>e.createElementVNode("div",null,"粗体",-1)),ko=N(e.defineComponent({__name:"setting",setup(t){const{state:n}=F(),{state:o}=x(),{isFullscreen:d}=o.fullscreenControls;return(i,l)=>{const _=he,m=no,u=ue,f=Jn,a=_e,c=Zn,s=An,r=Tn,h=Sn;return e.openBlock(),e.createBlock(e.unref(P),{disabled:!e.unref(n).show},{content:e.withCtx(()=>[e.createElementVNode("div",io,[ao,e.createElementVNode("div",ro,[e.createElementVNode("div",{onClick:l[0]||(l[0]=g=>e.unref(n).visible.move=!e.unref(n).visible.move)},[e.createElementVNode("div",null,[e.unref(n).visible.move?(e.openBlock(),e.createBlock(_,{key:0})):(e.openBlock(),e.createBlock(m,{key:1}))]),e.createTextVNode(" 滚动 ")]),e.createElementVNode("div",{onClick:l[1]||(l[1]=g=>e.unref(n).visible.top=!e.unref(n).visible.top)},[e.createElementVNode("div",null,[e.unref(n).visible.top?(e.openBlock(),e.createBlock(u,{key:0})):(e.openBlock(),e.createBlock(f,{key:1}))]),e.createTextVNode(" 顶部 ")]),e.createElementVNode("div",{onClick:l[2]||(l[2]=g=>e.unref(n).visible.bottom=!e.unref(n).visible.bottom)},[e.createElementVNode("div",null,[e.unref(n).visible.bottom?(e.openBlock(),e.createBlock(a,{key:0})):(e.openBlock(),e.createBlock(c,{key:1}))]),e.createTextVNode(" 底部 ")]),e.createElementVNode("div",{onClick:l[3]||(l[3]=g=>e.unref(n).visible.color=!e.unref(n).visible.color)},[e.createElementVNode("div",null,[e.unref(n).visible.color?(e.openBlock(),e.createBlock(s,{key:0})):(e.openBlock(),e.createBlock(r,{key:1}))]),e.createTextVNode(" 彩色 ")])]),e.renderSlot(i.$slots,"extra",{},void 0,!0),e.createElementVNode("div",co,[e.createTextVNode(" 不透明度 "),e.createVNode(e.unref(q),{value:e.unref(n).opacity,"onUpdate:value":l[4]||(l[4]=g=>e.unref(n).opacity=g),min:.1,max:1},null,8,["value"]),e.createElementVNode("div",null,e.toDisplayString(`${Math.ceil(e.unref(n).opacity*100)}%`),1)]),e.createElementVNode("div",mo,[e.createTextVNode(" 显示区域 "),e.createVNode(e.unref(q),{value:e.unref(n).displaySize,"onUpdate:value":l[5]||(l[5]=g=>e.unref(n).displaySize=g),min:.25,max:1},null,8,["value"]),e.createElementVNode("div",null,e.toDisplayString(`${Math.ceil(e.unref(n).displaySize*100)}%`),1)]),e.createElementVNode("div",fo,[e.createTextVNode(" 弹幕字号 "),e.createVNode(e.unref(q),{value:e.unref(n).fontRatio,"onUpdate:value":l[6]||(l[6]=g=>e.unref(n).fontRatio=g),min:.5,max:1.5},null,8,["value"]),e.createElementVNode("div",null,e.toDisplayString(`${Math.ceil(e.unref(n).fontRatio*100)}%`),1)]),e.createElementVNode("div",po,[e.createTextVNode(" 弹幕速度 "),e.createVNode(e.unref(q),{value:e.unref(n).speed,"onUpdate:value":l[7]||(l[7]=g=>e.unref(n).speed=g),min:.5,max:2},null,8,["value"]),e.createElementVNode("div",null,e.toDisplayString(`${Math.ceil(e.unref(n).speed*100)}%`),1)]),_o,e.createElementVNode("div",uo,[e.createElementVNode("div",null,[e.createElementVNode("div",{style:e.normalizeStyle({backgroundColor:e.unref(n).fontBold?"#00aeec":"white"}),onClick:l[8]||(l[8]=g=>e.unref(n).fontBold=!e.unref(n).fontBold)},[e.withDirectives(e.createElementVNode("div",ho,"√",512),[[e.vShow,e.unref(n).fontBold]])],4)]),go])])]),default:e.withCtx(()=>[e.createVNode(h,{class:e.normalizeClass(["bili-setting-trigger",{"cursor-no-drop":!e.unref(n).show}]),style:e.normalizeStyle({color:e.unref(n).show?e.unref(d)?"white":"#666":"#ccc"})},null,8,["class","style"])]),_:3},8,["disabled"])}}}),[["__scopeId","data-v-a9f5effa"]]),wo={class:"inline-block",width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},bo=[e.createElementVNode("g",{fill:"none","fill-rule":"evenodd"},[e.createElementVNode("path",{fill:"currentColor",d:"M8 3.5c.95 0 1.79.613 2.081 1.517l4.347 13.524a1.5 1.5 0 0 1-2.856.918L10.299 15.5H5.701l-1.273 3.959a1.5 1.5 0 0 1-2.856-.918L5.919 5.017A2.186 2.186 0 0 1 7.999 3.5ZM20.5 12a1.5 1.5 0 0 1 1.5 1.5v5a1.5 1.5 0 0 1-2.427 1.179a4 4 0 1 1 0-7.358c.255-.201.577-.321.927-.321M18 15a1 1 0 1 0 0 2a1 1 0 0 0 0-2M8 8.346L6.665 12.5h2.67z"})],-1)];function yo(t,n){return e.openBlock(),e.createElementBlock("svg",wo,[...bo])}const $o={name:"svg-text-color",render:yo},Z=t=>(e.pushScopeId("data-v-af56058e"),t=t(),e.popScopeId(),t),vo={class:"bili-send-container"},Eo={class:"bili-send-popup-content"},Co=Z(()=>e.createElementVNode("div",null,"模式",-1)),Vo={class:"bili-send-popup-item1 bili-send-color"},xo=Z(()=>e.createElementVNode("div",null,"滚动",-1)),Bo=Z(()=>e.createElementVNode("div",null,"顶部",-1)),No=Z(()=>e.createElementVNode("div",null,"底部",-1)),So=Z(()=>e.createElementVNode("div",{class:"bili-send-popup-title"},"颜色",-1)),zo={class:"bili-send-popup-item1"},Mo={class:"bili-send-popup-item2"},Fo=["onClick"],To={class:"bili-send-popup-item2"},Io=["onClick"],Do=["placeholder","disabled"],Ro=N(e.defineComponent({__name:"send",setup(t){const{state:n,send:o}=F(),{state:d}=x(),{isFullscreen:i}=d.fullscreenControls,l=e.ref({content:"",type:0,color:"#FFFFFF",time:0}),_=e.ref(!1),m=e.ref(!1),{counts:u,isCounting:f,start:a}=He(5),c=async k=>{if(k.preventDefault(),!f.value&&!m.value){m.value=!0;try{[4,7].includes(l.value.color.length)||(l.value.color="#FFFFFF");const{videoControls:y}=x().state;l.value.time=y.currentTime.value,await o(l.value),l.value={content:"",type:0,color:"#FFFFFF",time:0},a()}finally{m.value=!1}}};let s=l.value.color;const r=/^[0-9a-f]$/i,h=k=>{const y=k,$=y.target.value||"";if(y.data&&!r.test(y.data)){l.value.color=s;return}if($[0]!=="#"){l.value.color=s;return}l.value.color=$,s=$},g=["#FE0302","#FF7204","#FFAA02","#FFD302","#FFFF00","#A0EE00","#00CD00"],b=["#019899","#019899","#89D5FF","#CC0273","#222222","#9B9B9B","#FFFFFF"];return(k,y)=>{const $=he,R=ue,T=_e,I=$o;return e.openBlock(),e.createElementBlock("div",vo,[e.unref(n).show?(e.openBlock(),e.createBlock(e.unref(P),{key:0,"keep-open":_.value},{content:e.withCtx(()=>[e.createElementVNode("div",Eo,[Co,e.createElementVNode("div",Vo,[e.createElementVNode("div",{onClick:y[0]||(y[0]=E=>l.value.type=0)},[e.createVNode($,{class:e.normalizeClass({"active-color":l.value.type===0})},null,8,["class"]),xo]),e.createElementVNode("div",{onClick:y[1]||(y[1]=E=>l.value.type=1)},[e.createVNode(R,{class:e.normalizeClass({"active-color":l.value.type===1})},null,8,["class"]),Bo]),e.createElementVNode("div",{onClick:y[2]||(y[2]=E=>l.value.type=2)},[e.createVNode(T,{class:e.normalizeClass({"active-color":l.value.type===2})},null,8,["class"]),No])]),So,e.createElementVNode("div",zo,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":y[3]||(y[3]=E=>l.value.color=E),maxlength:7,class:"bili-send-color-input",onInput:h,onFocus:y[4]||(y[4]=E=>_.value=!0),onBlur:y[5]||(y[5]=E=>_.value=!1)},null,544),[[e.vModelText,l.value.color]]),e.createElementVNode("div",{class:"bili-send-color-display",style:e.normalizeStyle({background:l.value.color})},null,4)]),e.createElementVNode("div",Mo,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(g,E=>e.createElementVNode("div",{key:E,class:e.normalizeClass({"bili-send-color-active":l.value.color===E}),style:e.normalizeStyle({background:E,boxShadow:l.value.color===E?`0 0 4px ${E}`:""}),onClick:L=>l.value.color=E},null,14,Fo)),64))]),e.createElementVNode("div",To,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(b,E=>e.createElementVNode("div",{key:E,class:e.normalizeClass({"bili-send-color-active":l.value.color===E}),style:e.normalizeStyle({background:E,boxShadow:l.value.color===E?`0 0 4px ${E}`:""}),onClick:L=>l.value.color=E},null,14,Io)),64))])])]),default:e.withCtx(()=>[e.createVNode(I,{class:"bili-send-icon-setting",style:e.normalizeStyle({color:e.unref(i)?"white":"#777"})},null,8,["style"])]),_:1},8,["keep-open"])):e.createCommentVNode("",!0),e.createElementVNode("form",{onSubmit:c,class:"bili-send-form"},[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":y[6]||(y[6]=E=>l.value.content=E),style:e.normalizeStyle({color:e.unref(i)?"white":"black"}),placeholder:e.unref(n).show?"发个友善的弹幕见证当下":"已关闭弹幕",disabled:!e.unref(n).show||e.unref(f)},null,12,Do),[[e.vModelText,l.value.content]]),e.createElementVNode("button",{type:"submit",style:e.normalizeStyle({backgroundColor:e.unref(n).show&&!e.unref(f)?"#00aeec":"#bbb",cursor:e.unref(n).show&&!e.unref(f)?"pointer":"not-allowed"})},e.toDisplayString(e.unref(f)?`${e.unref(u)}秒`:"发送"),5)],32)])}}}),[["__scopeId","data-v-af56058e"]]),Ao={class:"bili-control-center"},ge=N(e.defineComponent({__name:"index",setup(t){const{state:n,hide:o,show:d}=F(),{state:i}=x(),{isFullscreen:l}=i.fullscreenControls,_=()=>{n.show?o():d()};return(m,u)=>{var c,s;const f=Vn,a=$n;return e.openBlock(),e.createElementBlock("div",Ao,[e.createElementVNode("div",null,[e.createVNode(e.unref(Q),{content:e.unref(n).show?"关闭弹幕(d)":"开启弹幕(d)"},{default:e.withCtx(()=>[e.unref(n).show?(e.openBlock(),e.createBlock(f,{key:0,class:"bili-control-icon",style:e.normalizeStyle({color:e.unref(l)?"white":"#666"}),onClick:_},null,8,["style"])):(e.openBlock(),e.createBlock(a,{key:1,class:"bili-control-icon",style:e.normalizeStyle({color:e.unref(l)?"white":"#666"}),onClick:_},null,8,["style"]))]),_:1},8,["content"])]),e.createElementVNode("div",null,[e.createVNode(e.unref(ko),null,e.createSlots({_:2},[(s=(c=m.$slots).settingExtra)!=null&&s.call(c)?{name:"extra",fn:e.withCtx(r=>[e.renderSlot(m.$slots,"setting-extra",e.normalizeProps(e.guardReactiveProps(r)),void 0,!0)]),key:"0"}:void 0]),1024)]),e.createElementVNode("div",null,[e.createVNode(e.unref(Ro))])])}}}),[["__scopeId","data-v-22491b44"]]),Lo={class:"bili-control-container"},Ho=N(e.defineComponent({__name:"index",props:{hidden:{type:Boolean}},setup(t){const{state:n}=x(),{isFullscreen:o}=n.fullscreenControls;return(d,i)=>{var l,_;return e.openBlock(),e.createElementBlock("div",Lo,[e.createVNode(e.unref(wt),{class:e.normalizeClass(["bili-control-process",{"op-0":d.hidden}])},null,8,["class"]),e.createElementVNode("div",{class:e.normalizeClass(["bili-control-send",{"op-0":d.hidden}])},[e.createVNode(e.unref(St)),e.withDirectives(e.createVNode(e.unref(ge),{class:"bili-control-input"},e.createSlots({_:2},[(_=(l=d.$slots).settingExtra)!=null&&_.call(l)?{name:"setting-extra",fn:e.withCtx(m=>[e.renderSlot(d.$slots,"setting-extra",e.normalizeProps(e.guardReactiveProps(m)),void 0,!0)]),key:"0"}:void 0]),1536),[[e.vShow,e.unref(o)]]),e.createVNode(e.unref(kn))],2)])}}}),[["__scopeId","data-v-8d6caaea"]]),Po={class:"bili-descrip-container"},Zo={class:"bili-descrip-title"},Oo=N(e.defineComponent({__name:"index",props:{show:{type:Boolean}},emits:["update:show"],setup(t,{emit:n}){const i=O(t,"show",n),l=[{value:"Space",label:"播放/暂停"},{value:"→",label:"单词快进5s，长按倍数播放"},{value:"←",label:"快退5s"},{value:"↑",label:"音量增加10%"},{value:"↓",label:"音量降低10%"},{value:"Esc",label:"退出全屏"},{value:"F",label:"全屏/退出全屏"},{value:"D",label:"开启/关闭弹幕"},{value:"M",label:"开启/关闭静音"}];return(_,m)=>(e.openBlock(),e.createBlock(e.Transition,{mode:"out-in","enter-from-class":"op-0","leave-to-class":"op-0"},{default:e.withCtx(()=>[e.withDirectives(e.createElementVNode("div",Po,[e.createElementVNode("div",Zo,[e.createTextVNode(" 快捷键说明 "),e.createElementVNode("div",{class:"bili-descrip-close",onClick:m[0]||(m[0]=u=>i.value=!1)},"✕")]),e.createElementVNode("div",null,[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(l,u=>e.createElementVNode("div",{key:u.value,class:"bili-descrip-line"},[e.createElementVNode("div",null,e.toDisplayString(u.value),1),e.createElementVNode("div",null,e.toDisplayString(u.label),1)])),64))])],512),[[e.vShow,e.unref(i)]])]),_:1}))}}),[["__scopeId","data-v-fa7b8f81"]]),Uo={class:"bili-container"},qo={class:"bili-outer-control-container"},Wo={class:"bili-video-info"},te=N(e.defineComponent({name:"bili-player",__name:"index",props:{hotkey:{type:Boolean,default:!0},video:{},danmaku:{}},setup(t,{expose:n}){const o=t,d=e.ref(!1),i=e.ref(),{state:l}=x();l.fullscreenControls=Ie(i);const{state:_}=F(),m=e.ref(!1),u=e.ref(!1),f=()=>{u.value=!1};let a;const c=()=>{u.value=!1,a&&clearTimeout(a),a=setTimeout(()=>{u.value=!0},1e3)},s=()=>{d.value=!0};return Je(o.hotkey),n(Ge()),(r,h)=>{var g,b,k,y;return e.openBlock(),e.createElementBlock("div",Uo,[e.createElementVNode("div",{ref_key:"containerRef",ref:i,class:"bili-main",onMouseenter:f,onMouseleave:h[3]||(h[3]=$=>u.value=!0),onMousemove:c,onContextmenu:e.withModifiers(s,["prevent","stop"])},[e.createElementVNode("div",{class:e.normalizeClass(["bili-container-mask",{"op-0":u.value&&!m.value}])},[e.renderSlot(r.$slots,"header-mask",{},void 0,!0)],2),e.createVNode(e.unref(st),e.normalizeProps(e.guardReactiveProps(o.video)),null,16),e.createVNode(e.unref(at),e.normalizeProps(e.guardReactiveProps(o.danmaku)),null,16),e.createVNode(e.unref(Ho),{hidden:u.value&&!m.value,onMouseenter:h[0]||(h[0]=$=>m.value=!0),onMouseleave:h[1]||(h[1]=$=>m.value=!1)},e.createSlots({_:2},[(b=(g=r.$slots).settingExtra)!=null&&b.call(g)?{name:"setting-extra",fn:e.withCtx($=>[e.renderSlot(r.$slots,"setting-extra",e.normalizeProps(e.guardReactiveProps($)),void 0,!0)]),key:"0"}:void 0]),1032,["hidden"]),e.createVNode(e.unref(Oo),{show:d.value,"onUpdate:show":h[2]||(h[2]=$=>d.value=$)},null,8,["show"])],544),e.createElementVNode("div",qo,[e.createElementVNode("div",Wo,[e.renderSlot(r.$slots,"wrapper-extra",{},void 0,!0),e.createTextVNode(" 已填装 "+e.toDisplayString(e.unref(_).items.length)+" 条弹幕 ",1)]),e.createVNode(e.unref(ge),{class:"bili-outer-control"},e.createSlots({_:2},[(y=(k=r.$slots).settingExtra)!=null&&y.call(k)?{name:"setting-extra",fn:e.withCtx($=>[e.renderSlot(r.$slots,"setting-extra",e.normalizeProps(e.guardReactiveProps($)),void 0,!0)]),key:"0"}:void 0]),1024)])])}}}),[["__scopeId","data-v-0db6ba25"]]),jo={install:t=>{t.component(te.name,te)}};z.BiliPlayer=te,z.default=jo,Object.defineProperties(z,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
